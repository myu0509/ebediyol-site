<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <title>Ebedi Yol - Tek Taş Testi</title>
  <style>
    html, body { margin: 0; padding: 0; overflow: hidden; background: #1a1a1a; }
  </style>
</head>
<body>
  <script>
    const canvas=document.createElement('canvas');
    document.body.appendChild(canvas);
    const gl=canvas.getContext('webgl');
    canvas.width=innerWidth;canvas.height=innerHeight;
    gl.clearColor(0.1,0.15,0.1,1);
    gl.enable(gl.DEPTH_TEST);

    const vs=`attribute vec3 pos;uniform mat4 mvp;void main(){gl_Position=mvp*vec4(pos,1.0);} `;
    const fs=`precision mediump float;void main(){gl_FragColor=vec4(0.8,0.8,0.8,1.0);} `;
    function sh(t,s){const x=gl.createShader(t);gl.shaderSource(x,s);gl.compileShader(x);return x;}
    const p=gl.createProgram();
    gl.attachShader(p,sh(gl.VERTEX_SHADER,vs));
    gl.attachShader(p,sh(gl.FRAGMENT_SHADER,fs));
    gl.linkProgram(p);gl.useProgram(p);

    const verts=new Float32Array([
      -0.3,0,0.1, 0.3,0,0.1, 0.3,1,0.1, -0.3,1,0.1,
      -0.3,0,-0.1, 0.3,0,-0.1, 0.3,1,-0.1, -0.3,1,-0.1
    ]);
    const ind=new Uint16Array([
      0,1,2,0,2,3,4,5,6,4,6,7,0,4,7,0,7,3,1,5,6,1,6,2,3,2,6,3,6,7,0,1,5,0,5,4
    ]);
    const vbo=gl.createBuffer();gl.bindBuffer(gl.ARRAY_BUFFER,vbo);gl.bufferData(gl.ARRAY_BUFFER,verts,gl.STATIC_DRAW);
    const ibo=gl.createBuffer();gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER,ibo);gl.bufferData(gl.ELEMENT_ARRAY_BUFFER,ind,gl.STATIC_DRAW);
    const loc=gl.getAttribLocation(p,"pos");gl.enableVertexAttribArray(loc);gl.vertexAttribPointer(loc,3,gl.FLOAT,false,0,0);
    const mvpLoc=gl.getUniformLocation(p,"mvp");

    function persp(fov,a,n,f){const t=Math.tan(fov/2);return [
      1/(a*t),0,0,0,0,1/t,0,0,0,0,(f+n)/(n-f),-1,0,0,(2*f*n)/(n-f),0];
    }

    function draw(){
      gl.clear(gl.COLOR_BUFFER_BIT|gl.DEPTH_BUFFER_BIT);
      const a=canvas.width/canvas.height;
      const pr=persp(Math.PI/4,a,0.1,100);
      const z=-2.5; // kamera önüne 2.5 metre
      const mvp=new Float32Array(pr);
      mvp[12]=0; mvp[13]=-0.5; mvp[14]=z;
      gl.uniformMatrix4fv(mvpLoc,false,mvp);
      gl.drawElements(gl.TRIANGLES,ind.length,gl.UNSIGNED_SHORT,0);
      requestAnimationFrame(draw);
    }
    draw();
  </script>
</body>
</html>
